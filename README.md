# Fast Node REST

[![npm version](https://badge.fury.io/js/fast-node-rest.svg)](https://badge.fury.io/js/fast-node-rest)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

–ë—ã—Å—Ç—Ä—ã–π –∏ –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è REST API –Ω–∞ Node.js —Å –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–º–∏ –º–∞—Ä—à—Ä—É—Ç–∞–º–∏, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫ –∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º–∏ middleware.

## üöÄ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **–ú–æ–Ω–æ–ª–∏—Ç–Ω—ã–π –∫–ª–∞—Å—Å** - –í—Å–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤ –æ–¥–Ω–æ–º –ø—Ä–æ—Å—Ç–æ–º –∫–ª–∞—Å—Å–µ
- **–î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤** - –û–ø—Ä–µ–¥–µ–ª—è–π API —á–µ—Ä–µ–∑ –ø—Ä–æ—Å—Ç—ã–µ –æ–±—ä–µ–∫—Ç—ã
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –æ—à–∏–±–∫–∏
- **–†–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤** - –í–ª–æ–∂–µ–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –ª—é–±–æ–π –≥–ª—É–±–∏–Ω—ã
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ middleware** - –î–æ–±–∞–≤–ª—è–π middleware –Ω–∞ –ª—é–±–æ–π —É—Ä–æ–≤–µ–Ω—å
- **JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** - –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è JWT —Å support refresh —Ç–æ–∫–µ–Ω–æ–≤
- **Service-to-service auth** - –û—Ç–¥–µ–ª—å–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã –¥–ª—è –º–µ–∂—Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
- **Auto token refresh** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ access —Ç–æ–∫–µ–Ω–æ–≤
- **–£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã** - –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç JSON –æ—Ç–≤–µ—Ç–æ–≤
- **TypeScript-friendly** - –ß–µ—Ç–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è —Ç–∏–ø–∏–∑–∞—Ü–∏–∏
- **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** - Express.js, cookie-parser, jsonwebtoken

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
npm install fast-node-rest
```

## üÜï –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –≤ v1.3.0

**BREAKING CHANGE:** –£–±—Ä–∞–Ω–∞ legacy API —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.

### –ú–∏–≥—Ä–∞—Ü–∏—è —Å v1.2.0 –Ω–∞ v1.3.0

**–ë—ã–ª–æ (v1.2.0):**
```javascript
const { server, sendSuccess, sendError, AuthMiddleware } = require('fast-node-rest');
const auth = new AuthMiddleware({...});
server({ port: 3000, routes });
```

**–°—Ç–∞–ª–æ (v1.3.0):**
```javascript
const FastNodeREST = require('fast-node-rest');

// –ü—Ä–æ—Å—Ç–æ–π –∑–∞–ø—É—Å–∫
const app = await FastNodeREST.create({ port: 3000, routes });

// –ò–ª–∏ –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å —Å JWT
const server = new FastNodeREST({ 
    port: 3000, 
    JWT_SECRET: 'secret',
    routes 
});
server.middleware.auth; // –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
await server.start();
```

## üèÅ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä

```javascript
const FastNodeREST = require('fast-node-rest');

const routes = {
    health: {
        method: 'get',
        handler: async () => ({ status: 'OK', timestamp: new Date().toISOString() })
    }
};

// –°–æ–∑–¥–∞–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫ –≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É
const app = await FastNodeREST.create({ port: 3000, routes });
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –° JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π

```javascript
const FastNodeREST = require('fast-node-rest');

// –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–∞ middleware –¥–æ—Å—Ç—É–ø–Ω—ã  
const server = new FastNodeREST({
    port: 3000,
    JWT_SECRET: 'your-secret',
    routes: {
        hello: {
            method: 'get',
            handler: async () => ({ message: 'Hello World!' })
        }
    }
});

// –î–æ–±–∞–≤–ª—è–µ–º –∑–∞—â–∏—â–µ–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è
server.config.routes.protected = {
    method: 'get',
    middlewares: [server.middleware.auth], // –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π JWT
    handler: async (req) => ({ user: req.user })
};

await server.start();
console.log('Server running!');
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å

```javascript
const FastNodeREST = require('fast-node-rest');

const server = new FastNodeREST({
    port: 3000,
    prefix: '/api/v1',
    enableLogging: true,
    JWT_SECRET: 'secret',
    JWT_REFRESH: 'refresh-secret',
    cors: { origin: 'https://myapp.com' }
});

// –î–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º
server.jwt.issueAccessToken(userId);
server.middleware.auth; // Auto-refresh JWT
server.response.success(res, data);

await server.start();
```

## üìñ API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### `server(options)`

–°–æ–∑–¥–∞—ë—Ç –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç Express —Å–µ—Ä–≤–µ—Ä —Å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–º–∏ –º–∞—Ä—à—Ä—É—Ç–∞–º–∏.

#### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

- **port** `(number)` - –ü–æ—Ä—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
- **prefix** `(string, optional)` - –ü—Ä–µ—Ñ–∏–∫—Å –¥–ª—è –≤—Å–µ—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: '')
- **routes** `(object)` - –û–±—ä–µ–∫—Ç —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º –º–∞—Ä—à—Ä—É—Ç–æ–≤

#### –ü—Ä–∏–º–µ—Ä

```javascript
server({
    port: 3000,
    prefix: '/api/v1',
    routes: routesObject
});
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–∞—Ä—à—Ä—É—Ç–∞

–ö–∞–∂–¥—ã–π –º–∞—Ä—à—Ä—É—Ç –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –ø–æ–ª—è:

```javascript
{
    method: 'get|post|put|delete|patch',  // HTTP –º–µ—Ç–æ–¥ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 'post')
    handler: async (req, res) => {},      // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –º–∞—Ä—à—Ä—É—Ç–∞
    middlewares: [middleware1, middleware2] // –ú–∞—Å—Å–∏–≤ middleware (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
}
```

### `responseHandler(res, data, error, extra, status)`

–£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤.

#### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

- **res** `(Response)` - Express response –æ–±—ä–µ–∫—Ç
- **data** `(object, optional)` - –î–∞–Ω–Ω—ã–µ –¥–ª—è —É—Å–ø–µ—à–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
- **error** `(object, optional)` - –û–±—ä–µ–∫—Ç –æ—à–∏–±–∫–∏
- **extra** `(object, optional)` - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è
- **status** `(number, optional)` - HTTP —Å—Ç–∞—Ç—É—Å –∫–æ–¥ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 200)

## üéØ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ë–∞–∑–æ–≤—ã–π CRUD API

```javascript
const { server } = require('fast-node-rest');

const routes = {
    api: {
        v1: {
            posts: {
                // GET /api/v1/posts - –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ –ø–æ—Å—Ç—ã
                method: 'get',
                handler: async (req, res) => {
                    const { page = 1, limit = 10 } = req.query;
                    return {
                        posts: [
                            { id: 1, title: 'Post 1', content: 'Content 1' },
                            { id: 2, title: 'Post 2', content: 'Content 2' }
                        ],
                        pagination: { page: parseInt(page), limit: parseInt(limit) }
                    };
                },

                // POST /api/v1/posts/create - —Å–æ–∑–¥–∞—Ç—å –ø–æ—Å—Ç
                create: {
                    method: 'post',
                    handler: async (req, res) => {
                        const { title, content } = req.body;
                        
                        if (!title || !content) {
                            const error = new Error('Title and content are required');
                            error.status = 400;
                            throw error;
                        }

                        return {
                            message: 'Post created successfully',
                            post: { id: Date.now(), title, content }
                        };
                    }
                },

                // GET /api/v1/posts/:id - –ø–æ–ª—É—á–∏—Ç—å –ø–æ—Å—Ç –ø–æ ID
                ':id': {
                    method: 'get',
                    handler: async (req, res) => {
                        const { id } = req.params;
                        return {
                            post: { id: parseInt(id), title: `Post ${id}` }
                        };
                    }
                }
            }
        }
    }
};

server({ port: 3000, routes });
```

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ middleware

```javascript
const { server } = require('fast-node-rest');

// Middleware –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–æ–∫–µ–Ω–∞
const authMiddleware = (req, res, next) => {
    const token = req.headers.authorization;
    if (!token) {
        const error = new Error('Authorization required');
        error.status = 401;
        throw error;
    }
    req.user = { id: 1, name: 'John Doe' };
    next();
};

// Middleware –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
const logMiddleware = (req, res, next) => {
    console.log(`${new Date().toISOString()} - ${req.method} ${req.path}`);
    next();
};

const routes = {
    auth: {
        login: {
            method: 'post',
            handler: async (req, res) => {
                const { username, password } = req.body;
                
                if (username === 'admin' && password === 'password') {
                    return {
                        token: 'fake-jwt-token',
                        user: { id: 1, username, role: 'admin' }
                    };
                }
                
                const error = new Error('Invalid credentials');
                error.status = 401;
                throw error;
            }
        }
    },

    protected: {
        profile: {
            method: 'get',
            middlewares: [authMiddleware, logMiddleware],
            handler: async (req, res) => {
                return { user: req.user };
            }
        }
    }
};

server({ port: 3000, routes });
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

```javascript
const routes = {
    api: {
        users: {
            ':id': {
                method: 'get',
                handler: async (req, res) => {
                    const { id } = req.params;
                    
                    if (!id || isNaN(id)) {
                        const error = new Error('Invalid user ID');
                        error.status = 400;
                        error.field = 'id';
                        throw error;
                    }

                    if (parseInt(id) > 1000) {
                        const error = new Error('User not found');
                        error.status = 404;
                        throw error;
                    }

                    return {
                        user: { id: parseInt(id), name: `User ${id}` }
                    };
                }
            }
        }
    }
};
```

## üìù –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–æ–≤

### –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç

```json
{
  "user": {
    "id": 1,
    "name": "John Doe"
  },
  "message": "Operation completed successfully"
}
```

### –û—Ç–≤–µ—Ç —Å –æ—à–∏–±–∫–æ–π

```json
{
  "error": {
    "message": "Validation failed",
    "field": "email",
    "code": "INVALID_EMAIL"
  }
}
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–º–µ—Ä:

```bash
npm start
```

–¢–µ—Å—Ç–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã:

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è
curl http://localhost:3000/health

# –õ–æ–≥–∏–Ω
curl -X POST http://localhost:3000/api/v1/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"test","password":"123"}'

# –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å (—Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
curl http://localhost:3000/api/v1/users/profile \
  -H "Authorization: Bearer your-token"

# –ü–æ–ª—É—á–∏—Ç—å –ø–æ—Å—Ç—ã —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
curl "http://localhost:3000/api/v1/posts?page=1&limit=5"
```

## üîê JWT –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

Fast Node REST –≤–∫–ª—é—á–∞–µ—Ç –º–æ—â–Ω—ã–π `AuthMiddleware` –∫–ª–∞—Å—Å –¥–ª—è JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π:

- **Access —Ç–æ–∫–µ–Ω—ã** - –ö–æ—Ä–æ—Ç–∫–æ–∂–∏–≤—É—â–∏–µ —Ç–æ–∫–µ–Ω—ã –¥–ª—è API –¥–æ—Å—Ç—É–ø–∞
- **Refresh —Ç–æ–∫–µ–Ω—ã** - –î–æ–ª–≥–æ–∂–∏–≤—É—â–∏–µ —Ç–æ–∫–µ–Ω—ã –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è access —Ç–æ–∫–µ–Ω–æ–≤  
- **Service —Ç–æ–∫–µ–Ω—ã** - –û—Ç–¥–µ–ª—å–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã –¥–ª—è –º–µ–∂—Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
- **Auto-refresh** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–µ–∫—à–∏—Ö access —Ç–æ–∫–µ–Ω–æ–≤

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Å JWT

```javascript
const FastNodeREST = require('fast-node-rest');

// –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞ —Å JWT –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
const server = new FastNodeREST({
    port: 3000,
    JWT_SECRET: 'your-access-token-secret',
    JWT_REFRESH: 'your-refresh-token-secret', 
    JWT_SERVICE: 'your-service-token-secret',
    routes: {
        auth: {
            login: {
                method: 'post',
                handler: async (req, res) => {
                    const { username, password } = req.body;
                    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–∏–Ω–∞/–ø–∞—Ä–æ–ª—è...
                    
                    const accessToken = server.jwt.issueAccessToken(userId);
                    const refreshToken = server.jwt.issueRefreshToken(userId);
                    
                    // –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å refresh token –≤ httpOnly cookie
                    res.cookie('refreshToken', refreshToken, {
                        httpOnly: true,
                        secure: process.env.NODE_ENV === 'production',
                        maxAge: 7 * 24 * 60 * 60 * 1000 // 7 –¥–Ω–µ–π
                    });
                    
                    return { accessToken, user: { id: userId } };
                }
            }
        },
        
        protected: {
            profile: {
                method: 'get',
                middlewares: [server.middleware.auth], // –ê–≤—Ç–æ-refresh –≤–∫–ª—é—á–µ–Ω
                handler: async (req) => ({ user: req.user })
            },
            
            settings: {
                method: 'put', 
                middlewares: [server.middleware.authUserOnly], // –°—Ç—Ä–æ–≥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑ refresh
                handler: async () => ({ message: 'Settings updated' })
            }
        },
        
        service: {
            status: {
                method: 'get',
                middlewares: [server.middleware.authServiceOnly], // –¢–æ–ª—å–∫–æ service —Ç–æ–∫–µ–Ω—ã
                handler: async (req) => ({ service: req.service.name })
            }
        }
    }
});

await server.start();
```

### –¢–∏–ø—ã middleware

- `server.middleware.auth` - –û—Å–Ω–æ–≤–Ω–æ–π middleware —Å auto-refresh —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é
- `server.middleware.authUserOnly` - –¢–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ç–æ–∫–µ–Ω—ã, –±–µ–∑ auto-refresh  
- `server.middleware.authServiceOnly` - –¢–æ–ª—å–∫–æ service —Ç–æ–∫–µ–Ω—ã –¥–ª—è –º–µ–∂—Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

### JWT —É—Ç–∏–ª–∏—Ç—ã

- `server.jwt.issueAccessToken(userId, payload)` - –°–æ–∑–¥–∞–Ω–∏–µ access —Ç–æ–∫–µ–Ω–∞
- `server.jwt.issueRefreshToken(userId, payload)` - –°–æ–∑–¥–∞–Ω–∏–µ refresh —Ç–æ–∫–µ–Ω–∞
- `server.jwt.issueServiceToken(serviceName, payload)` - –°–æ–∑–¥–∞–Ω–∏–µ service —Ç–æ–∫–µ–Ω–∞
- `server.jwt.verifyToken(token, secret)` - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞

### –ó–∞–ø—É—Å–∫ –ø—Ä–∏–º–µ—Ä–æ–≤

```bash
npm run demo     # –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π
npm run auth     # –ü–æ–ª–Ω—ã–π JWT example —Å–µ—Ä–≤–µ—Ä
npm run auth:dev # JWT —Å nodemon
npm start        # –ë–∞–∑–æ–≤—ã–π example
```

–ì–æ—Ç–æ–≤—ã–µ endpoints –≤ JWT –ø—Ä–∏–º–µ—Ä–µ:
- `POST /api/v1/auth/login` - –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
- `POST /api/v1/auth/refresh` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ access —Ç–æ–∫–µ–Ω–∞  
- `GET /api/v1/user/profile` - –ü—Ä–æ—Ñ–∏–ª—å —Å auto-refresh
- `POST /api/v1/tokens/create-service` - –°–æ–∑–¥–∞–Ω–∏–µ service —Ç–æ–∫–µ–Ω–æ–≤

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞

```javascript
const config = {
    port: process.env.PORT || 3000,
    prefix: process.env.API_PREFIX || '/api/v1',
    routes: yourRoutes
};

server(config);
```

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
PORT=3000
API_PREFIX=/api/v1
NODE_ENV=production
```

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js >= 14.0.0
- Express.js ^4.18.0

## ü§ù –£—á–∞—Å—Ç–∏–µ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

1. –§–æ—Ä–∫–Ω–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞–π –≤–µ—Ç–∫—É –¥–ª—è —Ñ–∏—á–∏ (`git checkout -b feature/amazing-feature`)
3. –ó–∞–∫–æ–º–º–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è (`git commit -m 'Add amazing feature'`)
4. –ü—É—à –≤ –≤–µ—Ç–∫—É (`git push origin feature/amazing-feature`)
5. –û—Ç–∫—Ä–æ–π Pull Request

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ª–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω –ø–æ–¥ MIT License - —Å–º–æ—Ç—Ä–∏ —Ñ–∞–π–ª [LICENSE](LICENSE) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

## üêõ –ë–∞–≥–∏ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è

–ï—Å–ª–∏ –Ω–∞—à–ª–∏ –±–∞–≥ –∏–ª–∏ —Ö–æ—Ç–∏—Ç–µ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å —É–ª—É—á—à–µ–Ω–∏–µ, —Å–æ–∑–¥–∞–π—Ç–µ [issue](https://github.com/esurkov1/fast-node-rest/issues).

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Express.js –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://expressjs.com/)
- [Node.js –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://nodejs.org/docs/)
- [npm –ø—É–±–ª–∏–∫–∞—Ü–∏—è](https://docs.npmjs.com/creating-and-publishing-unscoped-public-packages) 